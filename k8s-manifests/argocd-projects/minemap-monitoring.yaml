# argocd-minemap-monitoring.yaml
apiVersion: argoproj.io/v1alpha1
kind: AppProject
metadata:
  name: minemap-monitoring
  namespace: argocd
spec:
  # –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è Promtail Helm Chart (—É—Å—Ç—Ä–∞–Ω—è–µ—Ç –æ—à–∏–±–∫—É "repo not permitted")
  sourceRepos:
  - https://grafana.github.io/helm-charts
  - '*' # –¢–∞–∫–∂–µ —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤–∞—à —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

  # –†–∞–∑—Ä–µ—à–∞–µ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –ª—é–±–æ–º Namespace –≤ —Ü–µ–ª–µ–≤–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ
  destinations:
  - namespace: '*'
    server: https://kubernetes.default.svc
    
  # üîë –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ ClusterRole/ClusterRoleBinding
  clusterResourceWhitelist:
  - group: '*'
    kind: '*'

  # üîë –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ DaemonSet, Secret, ServiceAccount (namespace resources)
  namespaceResourceWhitelist:
  - group: '*' 
    kind: '*'